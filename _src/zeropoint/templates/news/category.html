<!DOCTYPE html>
<html>
    {% extends 'frame.html' %}
    {% load static %}
    {% block title %}{{ cate.name }}-News-Zeropoint IT{% endblock %}
    {% block description %}{% endblock %}
    <body>
        {% block content %}
        <div class="daohang">
            {% include 'nav.html' %}
        </div>     
        <div id="content">
            <div class="tabs">
                <button class="cateChoose2"  onclick="window.location.href = '/news'" > 全部 </button>
                {% for cate in cates %}
                    {% ifequal cate category %}
                    <button class="cateChoose1" onclick="window.location.href = '{{ forloop.counter}} '"> {{cate.name}} </button>
                    {% else %}
                    <button class="cateChoose2" onclick="window.location.href = '{{ forloop.counter}} '"> {{cate.name}} </button>
                    {% endifequal %}
                {% endfor %}
            </div>

            <div class="tabContent">            
                {% if news_list %}
                    <ul>
                        {% for elem in news_list %}
                            <li>
                                <div class="newscontent">
                                    <hr/>
                                    <a href="{% url 'news:article_detail' elem.id %} ">
                                        <p class="second">{{ elem.date| date:"m-d Y" }}</p>
                                        <div class="primary">
                                            <p class="newsTitle" >{{ elem.title }}</p>
                                            <p class="newsZhengwen" >{{ elem.abstract }}</p>
                                        </div> 
                                        <img src="{{ MEDIA_URL }}{{ elem.image }}" class="newsimage">
                                    </a>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="newscontent">暂无新闻</p>
                {% endif %}
            </div>  

            <div class="pagination">
                {% if is_paginated %}
                    {% if first %}
                        <a href="?page=1">1</a>
                    {% endif %}
                    {% if left %}
                        {% if left_has_more %}
                            <span>...</span>
                        {% endif %}
                        {% for i in left %}
                            <a href="?page={{ i }}">{{ i }}</a>
                        {% endfor %}
                    {% endif %}
                    <a href="?page={{ page_obj.number }}" style="color: red">{{ page_obj.number }}</a>
                    {% if right %}
                        {% for i in right %}
                            <a href="?page={{ i }}">{{ i }}</a>
                        {% endfor %}
                        {% if right_has_more %}
                            <span>...</span>
                        {% endif %}
                    {% endif %}
                    {% if last %}
                        <a href="?page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a>
                    {% endif %}
                {% endif %}              
            </div>
            <br>
        </div>
        {% endblock %}
    </body>
</html>