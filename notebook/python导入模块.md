# 导入模块

## 1. 安装后导入

这个基本上问题不大，只要路径在系统变量中，直接`import`就行了。

## 2. 导入本地目录下的模块

第一次使用bottle时，大妈说只要把bottle放到当前目录下，直接`import`就好了。当时还不明白这就是导入本地目录下的模块。这次新闻模块，导入了本地`models.py`里的变量Post，才理解了。

### 2.1 导入同一目录下的模块

`.`代表当前目录，后面写上py文件的名字，无须后缀名`.py`，从中import即可。

`from .models import Post`

被import的是一个类？其他可以吗？

### 2.2 导入下级目录下的模块

还是刚才那个models.py下的Post类。现在我想在首页引用它。但是首页的view文件在根目录下，不在news子模块下。在折腾了一通`.\/`之类未遂后，就去搜索了。

[Python在不同目录下导入模块的方法--zhili8866的博客_](https://blog.csdn.net/zhili8866/article/details/52980924)

这里说，只要被引用的子目录下有一个空的`__init__.py`文件，就可以直接子目录.py文件来引用了。

```
from news.models import Post
```

那就去建一个吧。进news一看，人家早就建好了。真的是个空文件，只有名字符合要求。以前我一直奇怪为什么大妈建的文件夹总有这个空文件，原来是这样用。

这次真的成功了。

好吧，我以后再也不随便删除`__init__.py`空文件了，虽然我以前也没删除过。

> 如果 __init__.py 不存在，这个目录就**仅仅是一个目录，而不是一个包**，它就不能被导入或者包含其它的模块和嵌套包。

### 2.3 导入上级目录下的模块

如果反过来，是news里要调用根目录下的文件中的模块，就需要先进入上级目录，再重复2.2的过程。

```
import sys
sys.path.append('C:\\test\\A\\C')
```

> 需要**注意**的一点是：sys.path添加目录时注意是在windows还是在Linux下，windows下需要`‘\\’`否则会出错。

还没有试过这个。下次有机会再试。